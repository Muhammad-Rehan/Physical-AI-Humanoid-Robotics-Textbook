<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-module3-isaac/path-planning-nav2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Path Planning for Bipedal Humanoids with Nav2 | PHYSICAL AI &amp; HUMANOID ROBOTICS COURSE</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://muhammad-rehan.github.io/Physical-AI-Humanoid-Robotics-Textbook/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://muhammad-rehan.github.io/Physical-AI-Humanoid-Robotics-Textbook/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://muhammad-rehan.github.io/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/path-planning-nav2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Path Planning for Bipedal Humanoids with Nav2 | PHYSICAL AI &amp; HUMANOID ROBOTICS COURSE"><meta data-rh="true" name="description" content="Path planning for bipedal humanoid robots presents unique challenges compared to wheeled or tracked robots. Humanoids must maintain balance, consider foot placement, and navigate complex environments with their distinct kinematics. Integrating these considerations with a powerful navigation framework like Nav2 requires careful adaptation and specialized approaches."><meta data-rh="true" property="og:description" content="Path planning for bipedal humanoid robots presents unique challenges compared to wheeled or tracked robots. Humanoids must maintain balance, consider foot placement, and navigate complex environments with their distinct kinematics. Integrating these considerations with a powerful navigation framework like Nav2 requires careful adaptation and specialized approaches."><link data-rh="true" rel="icon" href="/Physical-AI-Humanoid-Robotics-Textbook/img/favicon.jpg"><link data-rh="true" rel="canonical" href="https://muhammad-rehan.github.io/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/path-planning-nav2"><link data-rh="true" rel="alternate" href="https://muhammad-rehan.github.io/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/path-planning-nav2" hreflang="en"><link data-rh="true" rel="alternate" href="https://muhammad-rehan.github.io/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/path-planning-nav2" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Path Planning for Bipedal Humanoids with Nav2","item":"https://muhammad-rehan.github.io/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/path-planning-nav2"}]}</script><link rel="alternate" type="application/rss+xml" href="/Physical-AI-Humanoid-Robotics-Textbook/blog/rss.xml" title="PHYSICAL AI &amp; HUMANOID ROBOTICS COURSE RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Physical-AI-Humanoid-Robotics-Textbook/blog/atom.xml" title="PHYSICAL AI &amp; HUMANOID ROBOTICS COURSE Atom Feed"><link rel="stylesheet" href="/Physical-AI-Humanoid-Robotics-Textbook/assets/css/styles.92f412a0.css">
<script src="/Physical-AI-Humanoid-Robotics-Textbook/assets/js/runtime~main.f4d6c742.js" defer="defer"></script>
<script src="/Physical-AI-Humanoid-Robotics-Textbook/assets/js/main.c1a303f5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Physical-AI-Humanoid-Robotics-Textbook/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Physical-AI-Humanoid-Robotics-Textbook/"><div class="navbar__logo"><img src="/Physical-AI-Humanoid-Robotics-Textbook/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Physical-AI-Humanoid-Robotics-Textbook/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/intro/introduction">Book</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="translation-wrapper"><div class=""><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/intro/introduction"><span title="Introduction" class="categoryLinkLabel_W154">Introduction</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/getting-started/ros2-setup"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module1-ros2/introduction"><span title="Module 1: ROS 2" class="categoryLinkLabel_W154">Module 1: ROS 2</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module2-gazebo/physics-simulation"><span title="Module 2: Simulation" class="categoryLinkLabel_W154">Module 2: Simulation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/isaac-sim"><span title="Module 3: Isaac &amp; VSLAM" class="categoryLinkLabel_W154">Module 3: Isaac &amp; VSLAM</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/isaac-sim"><span title="NVIDIA Isaac Sim and Synthetic Data Generation" class="linkLabel_WmDU">NVIDIA Isaac Sim and Synthetic Data Generation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/vslam-navigation"><span title="Hardware-accelerated VSLAM and Navigation" class="linkLabel_WmDU">Hardware-accelerated VSLAM and Navigation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/path-planning-nav2"><span title="Path Planning for Bipedal Humanoids with Nav2" class="linkLabel_WmDU">Path Planning for Bipedal Humanoids with Nav2</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module4-vla/voice-to-action"><span title="Module 4: VLA" class="categoryLinkLabel_W154">Module 4: VLA</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module4-vla/capstone-project"><span title="Capstone Project" class="categoryLinkLabel_W154">Capstone Project</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/resources/"><span title="Resources" class="categoryLinkLabel_W154">Resources</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Physical-AI-Humanoid-Robotics-Textbook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Module 3: Isaac &amp; VSLAM</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Path Planning for Bipedal Humanoids with Nav2</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Path Planning for Bipedal Humanoids with Nav2</h1></header>
<p>Path planning for bipedal humanoid robots presents unique challenges compared to wheeled or tracked robots. Humanoids must maintain balance, consider foot placement, and navigate complex environments with their distinct kinematics. Integrating these considerations with a powerful navigation framework like Nav2 requires careful adaptation and specialized approaches.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="31-challenges-in-bipedal-humanoid-navigation">3.1 Challenges in Bipedal Humanoid Navigation<a href="#31-challenges-in-bipedal-humanoid-navigation" class="hash-link" aria-label="Direct link to 3.1 Challenges in Bipedal Humanoid Navigation" title="Direct link to 3.1 Challenges in Bipedal Humanoid Navigation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="complex-kinematics-and-dynamics">Complex kinematics and dynamics<a href="#complex-kinematics-and-dynamics" class="hash-link" aria-label="Direct link to Complex kinematics and dynamics" title="Direct link to Complex kinematics and dynamics" translate="no">​</a></h3>
<p>Bipedal robots have many degrees of freedom (DoF) and a highly complex kinematic and dynamic structure.</p>
<ul>
<li class=""><strong>High DoF:</strong> A typical humanoid robot can have 20-40+ DoF, making inverse kinematics and dynamics calculations computationally intensive.</li>
<li class=""><strong>Non-holonomic and Underactuated:</strong> Humanoids are inherently non-holonomic (cannot move freely in all directions simultaneously) and often underactuated (fewer actuators than DoF), especially concerning balance.</li>
<li class=""><strong>Zero Moment Point (ZMP) and Center of Mass (CoM):</strong> Maintaining stability requires careful control of the robot&#x27;s ZMP within its support polygon (formed by the feet on the ground) and managing the trajectory of its Center of Mass.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="balance-and-stability">Balance and stability<a href="#balance-and-stability" class="hash-link" aria-label="Direct link to Balance and stability" title="Direct link to Balance and stability" translate="no">​</a></h3>
<p>The most critical challenge for bipedal locomotion is maintaining balance and stability.</p>
<ul>
<li class=""><strong>Dynamic Balance:</strong> Unlike static balance, dynamic balance involves continuously shifting the robot&#x27;s weight and adjusting joint angles to prevent falls during walking, running, or complex maneuvers.</li>
<li class=""><strong>External Disturbances:</strong> Humanoids must be robust to external pushes, uneven terrain, and slippery surfaces, which can easily destabilize them.</li>
<li class=""><strong>Energy Efficiency:</strong> Walking gaits need to be energy-efficient to allow for longer operation times.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="footstep-planning-vs-continuous-motion-planning">Footstep planning vs. continuous motion planning<a href="#footstep-planning-vs-continuous-motion-planning" class="hash-link" aria-label="Direct link to Footstep planning vs. continuous motion planning" title="Direct link to Footstep planning vs. continuous motion planning" translate="no">​</a></h3>
<p>Navigation for humanoids often involves two distinct approaches:</p>
<ul>
<li class=""><strong>Footstep Planning:</strong> Generates a sequence of discrete foot placements (waypoints for the feet) that the robot will follow. This is common for walking over uneven terrain, stairs, or stepping stones.</li>
<li class=""><strong>Continuous Motion Planning:</strong> Plans a continuous trajectory for the robot&#x27;s base or CoM, often combined with a whole-body controller that translates this into joint commands while ensuring balance. This is more common for smoother walking on flat ground.</li>
<li class=""><strong>Hybrid Approaches:</strong> Modern approaches often combine these, using footstep planning for high-level decisions and continuous planning for smooth transitions and obstacle avoidance within each step.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="32-adapting-nav2-for-bipedal-locomotion-concepts">3.2 Adapting Nav2 for Bipedal Locomotion (Concepts)<a href="#32-adapting-nav2-for-bipedal-locomotion-concepts" class="hash-link" aria-label="Direct link to 3.2 Adapting Nav2 for Bipedal Locomotion (Concepts)" title="Direct link to 3.2 Adapting Nav2 for Bipedal Locomotion (Concepts)" translate="no">​</a></h2>
<p><a href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/vslam-navigation" target="_blank" rel="noopener noreferrer" class="">Nav2</a> provides a highly modular and configurable framework that can be adapted for various robot types. For humanoids, this involves specializing certain components and integrating external balance controllers.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom-local-planners-eg-teb_local_planner-or-mpc_local_planner-considerations">Custom local planners (e.g., <code>teb_local_planner</code> or <code>mpc_local_planner</code> considerations)<a href="#custom-local-planners-eg-teb_local_planner-or-mpc_local_planner-considerations" class="hash-link" aria-label="Direct link to custom-local-planners-eg-teb_local_planner-or-mpc_local_planner-considerations" title="Direct link to custom-local-planners-eg-teb_local_planner-or-mpc_local_planner-considerations" translate="no">​</a></h3>
<p>The default Nav2 local planners (e.g., DWB, TEB) are typically optimized for wheeled robots. For humanoids, specialized local planners are needed:</p>
<ul>
<li class=""><strong>Trajectory-based Local Planners (like TEB - Timed Elastic Band):</strong> Can be adapted, but need to incorporate constraints related to foot placement, swing leg trajectories, and balance. The cost function would need to penalize unstable states or impossible foot placements.</li>
<li class=""><strong>Model Predictive Control (MPC) based Local Planners:</strong> MPC is well-suited for dynamic systems like humanoids. It can predict future states and optimize control inputs (joint torques or positions) over a receding horizon to achieve goals while satisfying constraints (balance, joint limits).</li>
<li class=""><strong>Integration with Whole-Body Controllers:</strong> The local planner might output a desired base velocity or a sequence of footsteps, which then needs to be fed into a whole-body controller that generates the actual joint commands.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="costmap-configuration-for-terrain-awareness-and-balance">Costmap configuration for terrain awareness and balance<a href="#costmap-configuration-for-terrain-awareness-and-balance" class="hash-link" aria-label="Direct link to Costmap configuration for terrain awareness and balance" title="Direct link to Costmap configuration for terrain awareness and balance" translate="no">​</a></h3>
<p>Nav2&#x27;s costmaps are essential for local obstacle avoidance and path validity. For humanoids, costmaps need to be more sophisticated:</p>
<ul>
<li class=""><strong>3D Costmaps/Voxel Grids:</strong> Traditional 2D costmaps are insufficient for bipedal robots that can step over obstacles or navigate uneven terrain. 3D costmaps (voxel grids) provide richer information about the environment, including traversability, step heights, and potential footholds.</li>
<li class=""><strong>Balance-Aware Cost Layers:</strong> Custom costmap layers could be developed to incorporate balance considerations. For example, penalizing areas where the robot&#x27;s ZMP would fall outside its support polygon or where footholds are too small.</li>
<li class=""><strong>Dynamic Obstacle Avoidance:</strong> Humanoids are generally slower and less agile than wheeled robots, making dynamic obstacle avoidance more challenging. The local planner needs to be highly reactive and integrated with fast perception.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="state-estimation-for-bipedal-robots">State estimation for bipedal robots<a href="#state-estimation-for-bipedal-robots" class="hash-link" aria-label="Direct link to State estimation for bipedal robots" title="Direct link to State estimation for bipedal robots" translate="no">​</a></h3>
<p>Accurate state estimation (knowing the robot&#x27;s position, orientation, and joint states) is paramount for bipedal robots.</p>
<ul>
<li class=""><strong>Multi-sensor Fusion:</strong> IMUs, proprioceptive sensors (joint encoders), force-torque sensors in feet, and vision sensors (cameras, LiDAR) must be fused to get a robust estimate.</li>
<li class=""><strong>Kalman Filters/Extended Kalman Filters (EKF):</strong> Common for fusing IMU and kinematic data.</li>
<li class=""><strong>Complementary Filters:</strong> For combining high-frequency IMU data with slower, more accurate visual or odometry data.</li>
<li class=""><strong>Leg Odometry:</strong> Estimating robot motion based on foot contacts and kinematics, especially when visual cues are poor.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="33-integration-with-whole-body-control">3.3 Integration with Whole-Body Control<a href="#33-integration-with-whole-body-control" class="hash-link" aria-label="Direct link to 3.3 Integration with Whole-Body Control" title="Direct link to 3.3 Integration with Whole-Body Control" translate="no">​</a></h2>
<p>The output of Nav2&#x27;s global and local planners typically consists of either a sequence of waypoints for the robot&#x27;s base or velocity commands. For a humanoid, this needs to be translated into specific joint trajectories that ensure stable and safe locomotion.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-nav2-outputs-eg-velocity-commands-waypoints-are-translated-into-whole-body-joint-commands-for-humanoids">How Nav2 outputs (e.g., velocity commands, waypoints) are translated into whole-body joint commands for humanoids<a href="#how-nav2-outputs-eg-velocity-commands-waypoints-are-translated-into-whole-body-joint-commands-for-humanoids" class="hash-link" aria-label="Direct link to How Nav2 outputs (e.g., velocity commands, waypoints) are translated into whole-body joint commands for humanoids" title="Direct link to How Nav2 outputs (e.g., velocity commands, waypoints) are translated into whole-body joint commands for humanoids" translate="no">​</a></h3>
<p>This translation is performed by a <strong>Whole-Body Controller (WBC)</strong>. The WBC&#x27;s role is to solve for the optimal joint commands (positions, velocities, or torques) that will achieve the desired motion of the robot&#x27;s base while simultaneously satisfying constraints such as:</p>
<ul>
<li class=""><strong>Balance Constraints:</strong> Keeping the ZMP within the support polygon, controlling CoM trajectory.</li>
<li class=""><strong>Joint Limits:</strong> Ensuring joints do not exceed their physical range.</li>
<li class=""><strong>Self-Collision Avoidance:</strong> Preventing the robot from colliding with itself.</li>
<li class=""><strong>Contact Constraints:</strong> Managing forces at the contact points (feet on the ground).</li>
</ul>
<p>This is often an optimization problem, minimizing tracking errors while respecting all constraints.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="concept-of-inverse-kinematics-and-dynamics-for-bipedal-motion">Concept of inverse kinematics and dynamics for bipedal motion<a href="#concept-of-inverse-kinematics-and-dynamics-for-bipedal-motion" class="hash-link" aria-label="Direct link to Concept of inverse kinematics and dynamics for bipedal motion" title="Direct link to Concept of inverse kinematics and dynamics for bipedal motion" translate="no">​</a></h3>
<ul>
<li class=""><strong>Inverse Kinematics (IK):</strong> Given a desired end-effector pose (e.g., foot position, hand position) or base pose, IK calculates the corresponding joint angles required to achieve that pose. For humanoids, IK is used extensively to determine joint angles for desired foot placements and torso orientation.</li>
<li class=""><strong>Inverse Dynamics (ID):</strong> Given desired joint accelerations (or end-effector forces/accelerations), ID calculates the joint torques required to achieve those accelerations. ID is critical for generating dynamic and stable motions, especially in force control or impedance control schemes.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-moveit2-or-custom-controllers-for-humanoid-manipulation-and-locomotion">Using <code>moveit2</code> or custom controllers for humanoid manipulation and locomotion<a href="#using-moveit2-or-custom-controllers-for-humanoid-manipulation-and-locomotion" class="hash-link" aria-label="Direct link to using-moveit2-or-custom-controllers-for-humanoid-manipulation-and-locomotion" title="Direct link to using-moveit2-or-custom-controllers-for-humanoid-manipulation-and-locomotion" translate="no">​</a></h3>
<ul>
<li class=""><strong><code>MoveIt 2</code>:</strong> While traditionally used for manipulators, <code>MoveIt 2</code> can be extended for whole-body motion planning of humanoids. It integrates well with <a href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module1-ros2/introduction" target="_blank" rel="noopener noreferrer" class="">ROS 2</a>. It provides tools for:<!-- -->
<ul>
<li class=""><strong>Kinematics Solvers:</strong> Integrating custom IK/FK solvers for humanoids.</li>
<li class=""><strong>Motion Planning:</strong> Using various planners (e.g., OMPL) to find collision-free paths.</li>
<li class=""><strong>Control Integration:</strong> Connecting planned trajectories to hardware controllers.</li>
</ul>
</li>
<li class=""><strong>Custom Controllers:</strong> For highly specialized or dynamically aggressive gaits, custom low-level controllers written in C++ or Python are often developed. These might implement specific walking pattern generators, balance controllers (e.g., based on model predictive control), or compliance controllers for robust interaction with the environment.</li>
</ul>
<p>Integrating Nav2 with such sophisticated whole-body controllers and state estimators is key to enabling robust and agile autonomous navigation for bipedal humanoid robots.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/Muhammad-Rehan/Physical-AI-Humanoid-Robotics-Textbook/edit/main/docs/module3-isaac/path-planning-nav2.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module3-isaac/vslam-navigation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Hardware-accelerated VSLAM and Navigation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/module4-vla/voice-to-action"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Voice-to-Action using OpenAI Whisper</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#31-challenges-in-bipedal-humanoid-navigation" class="table-of-contents__link toc-highlight">3.1 Challenges in Bipedal Humanoid Navigation</a><ul><li><a href="#complex-kinematics-and-dynamics" class="table-of-contents__link toc-highlight">Complex kinematics and dynamics</a></li><li><a href="#balance-and-stability" class="table-of-contents__link toc-highlight">Balance and stability</a></li><li><a href="#footstep-planning-vs-continuous-motion-planning" class="table-of-contents__link toc-highlight">Footstep planning vs. continuous motion planning</a></li></ul></li><li><a href="#32-adapting-nav2-for-bipedal-locomotion-concepts" class="table-of-contents__link toc-highlight">3.2 Adapting Nav2 for Bipedal Locomotion (Concepts)</a><ul><li><a href="#custom-local-planners-eg-teb_local_planner-or-mpc_local_planner-considerations" class="table-of-contents__link toc-highlight">Custom local planners (e.g., <code>teb_local_planner</code> or <code>mpc_local_planner</code> considerations)</a></li><li><a href="#costmap-configuration-for-terrain-awareness-and-balance" class="table-of-contents__link toc-highlight">Costmap configuration for terrain awareness and balance</a></li><li><a href="#state-estimation-for-bipedal-robots" class="table-of-contents__link toc-highlight">State estimation for bipedal robots</a></li></ul></li><li><a href="#33-integration-with-whole-body-control" class="table-of-contents__link toc-highlight">3.3 Integration with Whole-Body Control</a><ul><li><a href="#how-nav2-outputs-eg-velocity-commands-waypoints-are-translated-into-whole-body-joint-commands-for-humanoids" class="table-of-contents__link toc-highlight">How Nav2 outputs (e.g., velocity commands, waypoints) are translated into whole-body joint commands for humanoids</a></li><li><a href="#concept-of-inverse-kinematics-and-dynamics-for-bipedal-motion" class="table-of-contents__link toc-highlight">Concept of inverse kinematics and dynamics for bipedal motion</a></li><li><a href="#using-moveit2-or-custom-controllers-for-humanoid-manipulation-and-locomotion" class="table-of-contents__link toc-highlight">Using <code>moveit2</code> or custom controllers for humanoid manipulation and locomotion</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div><div style="position:fixed;top:18px;right:130px;z-index:1000;display:flex;align-items:center"></div><div class="rag-chatbot"><button class="chatbot-toggle" aria-label="Open chat">?</button></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics-Textbook/docs/intro/introduction">Textbook</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics-Textbook/">Stack Overflow</a></li><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics-Textbook/">Discord</a></li><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics-Textbook/">X</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics-Textbook/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Muhammad-Rehan/Physical-AI-Humanoid-Robotics-Textbook" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 AI Robotics Textbook. Made By Muhammad Rehan.</div></div></div></footer></div>
</body>
</html>